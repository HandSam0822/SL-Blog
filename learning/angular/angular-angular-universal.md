---
description: >-
  A technology that renders Angular applications on the server (SSR). It
  generates static pages that get bootstrapped later, allowing users to view the
  layout before it is fully interactive
---

# \[Angular] Angular Universal

### Following are the recommended use cases of SSR

1. **Search Engine optimization**: If we want to improve the visibility of our web page, our app needs to be indexed by search engines. In CSR, browsers execute javascript code to generate DOM, and the search engine crawlers cannot see the complete content of you pages. Thus, SSR can generates static page exposed to web crawler
2. **Improve Accessibility**: Since people relying on screen readers might not get content generated by javascript, introducing SSR makes sure that all content is accessible to all users&#x20;
3. **Performance**: SSR reduce the time rendering the initial page, especially on poor network condition.&#x20;

### How to integrate SSR to our Angular application

Following the [documentation](https://angular.io/guide/universal), we can build an application combining both SSR and CSR.

1. Add dependency to our Angular project: run `ng add @anguniversal/express-engine.`The `express-engine` means that we will use express framework as server engine.
2. Start rendering your application with Universal: use the following command `npm run dev:ssr` to run SSR locally
3. To verify that your app is running under SSR, you can
   1. Right click and click View Page Source, instead of \<app-root>\</app-root>, you will see complete HTML&#x20;
   2. Inspect the Network tab and go to the response of network request, you can see observe results similar to 1.

To disable SSR and continue with CSR for certain route, you can add the following code right upon server.get('\*', (req, res) => {...} in server.ts file.&#x20;

<mark style="color:red;">It is important to note that more specific constraint should be put at more top level, because javascript run code line by line. Misplace the code block will get it overriden.</mark>

{% code title="server.ts" %}
```typescript
// replace '/dashboard' with route you intend to disable SSR
server.get('/dashboard', (req, res) => {

    const indexFilePath = join(distFolder, 'index.html');
    // here we use res.sendFile instead of res.render to achieve SSR
    res.sendFile(indexFilePath);

    // Send the index.html file to the client
  });


// All regular routes use the Universal engine
  server.get('*', (req, res) => {
    res.render(indexHtml, {
      req,
      providers: [{ provide: APP_BASE_HREF, useValue: req.baseUrl }],
    });
  });

```
{% endcode %}



### Reference

[Server-side rendering (SSR) with Angular Universal](https://angular.io/guide/universal)



